<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/tufte.css"> <link rel=stylesheet  href="/css/latex.css"> <link rel=stylesheet  href="/css/adjust.css"> <link rel=icon  href="/assets/favicon.png"> <title>My First AUR package: tuic-bin</title> <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "0550f3275b4a4db8bfeefed116695300"}'></script> <div id=layout > <div id=menu > <ul> <li><a href="/">Home</a> </ul> </div> <div id=main > <div class=franklin-content > <h1 id=title ><a href="#title" class=header-anchor >My First AUR package: tuic-bin</a></h1> <p>For package not in Arch repository or AUR, I usually simply build or download it myself.</p> <p>That&#39;s quite cumbersome and hard to maintain.</p> <p>For example, to build <a href="https://github.com/EAimTY/tuic">tuic</a>, you need a Rust toolchain and lots of disk space. </p> <p>So I usually download it from Github release page, and put it to <code>&#36;PATH</code>.</p> <p>Go to release page, find the correct build, copy the url, wget, put it to <code>&#36;PATH</code> ... I&#39;m tired of it.</p> <p>So I write my first PKGBUILD and submit it to AUR: <a href="https://aur.archlinux.org/packages/tuic-bin">tuic-bin</a>.</p> <h2 id=writing_pkgbuild ><a href="#writing_pkgbuild" class=header-anchor >Writing PKGBUILD</a></h2> <p>For prebuilt deliverables, it&#39;s quite easy.</p> <p>Specify the files to download and sha256sum, use <code>install</code> to copy it to the expected location.</p> <h2 id=push_to_aur ><a href="#push_to_aur" class=header-anchor >Push to AUR</a></h2> <p>Arch Wiki and AUR use different account system. Not knowing that, I register for both :&#40;</p> <p>Then comes the most confusing part.</p> <p>In <a href="https://wiki.archlinux.org/title/AUR_submission_guidelines">AUR submission guidelines</a>, I need to clone a pkgbase.</p> <blockquote> <p>If you are creating a new package from scratch, establish a local Git repository and an AUR remote by cloning the intended pkgbase.</p> </blockquote> <blockquote> <p>If the package does not yet exist, the following warning is expected: </p> </blockquote> <p>And it give this example:</p> <pre><code class="julia hljs">git clone ssh://aur<span class=hljs-meta >@aur</span>.archlinux.org/pkgbase.git
Cloning into &#x27;pkgbase&#x27;...
warning: You appear to have cloned an empty repository.
Checking connectivity... done.</code></pre> <p>So I try the command <code>git clone ssh://aur@aur.archlinux.org/pkgbase.git</code>, but I got an non empty repository.</p> <p>Maybe I need to put my PKGBUILD inside it?</p> <p>The I figured out that <code>pkgbase</code> is the package name you want to use. AUR will create the repository dynamically when you clone it.</p> <pre><code class="julia hljs">$ git clone ssh://aur<span class=hljs-meta >@aur</span>.archlinux.org/tuic-bin.git
Cloning into &#x27;tuic-bin&#x27;...
warning: You appear to have cloned an empty repository.</code></pre> <p>Add PKGBUILD and .SRCINFO, commit and push, then you can see the package in AUR site.</p> <p>Cool.</p> <div class=page-foot > Kauruus <br> <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <br> Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>