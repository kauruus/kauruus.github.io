<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <script src="/libs/plotly/plotly.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { response = await fetch(url); fig = await response.json(); if (typeof fig.config === 'undefined') { fig["config"]={} } delete fig.layout.width; delete fig.layout.height; fig["layout"]["autosize"] = true; fig["config"]["autosizable"] = true; fig["config"]["responsive"] = true; fig["config"]["scrollZoom"] = true; delete fig.config.staticPlot; delete fig.config.displayModeBar; delete fig.config.doubleClick; delete fig.config.showTips; Plotly.newPlot(div, fig); }; </script> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/tufte.css"> <link rel=stylesheet  href="/css/latex.css"> <link rel=stylesheet  href="/css/adjust.css"> <link rel=icon  href="/assets/favicon.png"> <title>Visualize Web Framework Benchmark Result</title> <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "0550f3275b4a4db8bfeefed116695300"}'></script> <div id=layout > <div id=menu > <ul> <li><a href="/">Home</a> </ul> </div> <div id=main > <div class=franklin-content > <h1 id=title ><a href="#title" class=header-anchor >Visualize Web Framework Benchmark Result</a></h1> <p>Recently, I found the latency result in <a href="https://web-frameworks-benchmark.netlify.app/">Web Frameworks Benchmark</a> is weird.</p> <p>It turns out that the data table shows the wrong unit. It display us as ms. So I submit a <a href="https://github.com/the-benchmarker/website/pull/34">PR</a> to fix it.</p> <p>After the fix, the data looks good, but the table is still hard to read, especially when you want to compare multiple frameworks and languages.</p> <p>So I did draw some graphs to visualize the result.</p> <h2 id=qps ><a href="#qps" class=header-anchor >QPS</a></h2> <p>Here is the QPS of each framework with 64, 256 and 512 concurrent clients.</p> <div id=fdpedq  style=""></div> <script> graphDiv = document.getElementById("fdpedq"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/posts/2023/01/01-visualize-web-framework-benchmark-result/code/output/plt2.json'); </script> <p>From the right parts of it, you can see that some framework&#39;s QPS increase as clients count increase.</p> <p>It means that, these fast frameworks are still not reaching their limits, and we need to generate more load.</p> <h2 id=latency ><a href="#latency" class=header-anchor >Latency</a></h2> <p>Nowadays, we also care about user experience, and latency is a common metric for it.</p> <div id=fdpuwi  style=""></div> <script> graphDiv = document.getElementById("fdpuwi"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/posts/2023/01/01-visualize-web-framework-benchmark-result/code/output/plt1.json'); </script> <p>As load increases, latency will increase.</p> <p>The Nickel framework is pretty amzing, it provides really low and consistent latency.</p> <h2 id=latency_and_qps ><a href="#latency_and_qps" class=header-anchor >Latency and QPS</a></h2> <p>Now we have latency and QPS data, we can combine them in the same graph.</p> <p>For average latency and QPS, it&#39;s almost a straight light.</p> <div id=fdpdla  style=""></div> <script> graphDiv = document.getElementById("fdpdla"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/posts/2023/01/01-visualize-web-framework-benchmark-result/code/output/plt4.json'); </script> <p>For P99 latency and QPS, it becomes much messy, but you still can see the trend. </p> <div id=fdpaxi  style=""></div> <script> graphDiv = document.getElementById("fdpaxi"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/posts/2023/01/01-visualize-web-framework-benchmark-result/code/output/plt3.json'); </script> <div class=page-foot > Kauruus <br> <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <br> Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>